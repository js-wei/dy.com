<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>台湾原产燕窝隐形面膜</title>
    <link rel="stylesheet" href="__PLUG__/larea/css/LArea.css">
    <link rel="stylesheet" href="__CSS__/spr.css">
    <style>
        form{
            margin-top:2.9rem;
            margin-left: 1.6rem;
        }
    </style>
</head>
<body>
<div class="container" id="obj">
    <div class="music">
         <!--<audio id='mu' autoplay="autoplay" loop="loop" src="/data/music.mp3"></audio>-->
    </div>
    <div class="content">
        {$vo.content}
        <div class="content5">
            <div class="content51">
            </div>
            <div class="content52">
                <form action="javascript:;" autocomplete="off">
                    <div id="Prompt">
                        <span>提示信息</span><span>!</span>
                    </div>

                    <div class="name">
                        <span>收货人姓名</span>
                        <input type="text" name='name' placeholder="请输入您的姓名" required="required" />
                        <input type="hidden" name="pid" id="pid" value="{$pid}" >
                        <input type="hidden" name="openid" id="openid" value="{$openid}" >
                        <input type="hidden" name="code" id="code" value="{$code}" >
                        <input type="hidden" name="price" id="price" value="{$vo.price}" >
                    </div>
                    <div class="tel">
                        <span>手机号码</span>
                        <input type="tel" name='tel' placeholder="请输入手机号码" required="required" />
                    </div>
                    <div class="numB">
                        <span>购买数量</span>
                        <input type="number" name='number' value="1" required="required" />
                    </div>
                    <div class="address">
                        <div class="content-block">
                            <span>所在地区</span> <input id="demo1" name="city" type="text" readonly placeholder="城市选择特效" value="江苏省,苏州市,平江区" />
                            <input id="value1" type="hidden" value="20,234,504" />
                        </div>
                        <div class="xiangxi">
                            <span>详细地址</span>
                            <!--<textarea name="" cols="25" rows="3"></textarea>-->
                            <input type="text" name="address" placeholder="详细地址">
                        </div>
                    </div>
                    <div class="button">
                        <button  id="shopping" type="button">
                            确认购买
                        </button>
                        <button id="cancel" type="button">
                            取消
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div class="content6">
            <div class="content61">
                <h2>订单详情</h2>
                <div class="PurInfor">
                    <span>购买人信息:</span><span>王传奇</span>
                </div>
                <div class="PurAdd">
                    <span>收货地址:</span><span>江苏省苏州市虎丘区东创科技园B3-50002</span>
                </div>
                <div class="PurShopp">
                    <span>订单信息:</span><span>3盒</span>
                </div>
                <div class="kuaidi">
                    <span>快递:</span><span>国内大陆包邮</span>
                </div>
                <div class="money">
                    <span>订单金额：</span><span style="color:#ff0000;">￥99元</span>
                </div>
            </div>
            <div class="operate">
                <button type="button" id="pay">确认付款</button>
                <button type="button" id="return">返回修改</button>
            </div>
        </div>
    </div>
</div>
</body>
<script src="__JS__/jquery-1.11.1.js"></script>
<script src="__PLUG__/larea/js/LAreaData1.js"></script>
<script src="__PLUG__/larea/js/LAreaData2.js"></script>
<script src="__PLUG__/larea/js/LArea.js"></script>
<script>
    $(function () {
        var area1 = new LArea();
        area1.init({
            'trigger': '#demo1', //触发选择控件的文本框，同时选择完毕后name属性输出到该位置
            'valueTo': '#value1', //选择完毕后id属性输出到该位置
            'keys': {
                id: 'id',
                name: 'name'
            }, //绑定数据源相关字段 id对应valueTo的value属性输出 name对应trigger的value属性输出
            'type': 1, //数据源类型
            'data': LAreaData //数据源
        });
        area1.value = [1, 13, 3]; //控制初始位置，注意：该方法并不会影响到input的value
        $(document).on('click','#shopping',function (e) {
            e.preventDefault();
            var name= $('input[name="name"]').val();
            var tel= $('input[name="tel"]').val();
            var city= $('input[name="city"]').val();
            var address= $('input[name="address"]').val();
            var number= $('input[name="number"]').val();

            if(name==''){
                layer.open({
                    content: "收货人姓名不能为空"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            if(tel==''){
                layer.open({
                    content: "收货人手机不能为空"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }

            if(!/^1[3|4|5|8][0-9]\d{4,8}$/.test(tel)){
                layer.open({
                    content: "请输入正确的手机号"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            if(number==''){
                layer.open({
                    content: "购买数量不能为空"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            if(!/^\d{1,}$/.test(number)){
                layer.open({
                    content: "请输入数字"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            if(city==''){
                layer.open({
                    content: "收货人所在城市不能为空"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            if(address==''){
                layer.open({
                    content: "收货人详细地址不能为空"
                    ,skin: 'msg'
                    ,time: 3
                });
                return false;
            }
            $.post('{:Url("/account/add_order")}',$('form').serialize(),function (result) {
                alert(JSON.stringify(result));
//                if(result.status==1){
//                    $('.content6').toggle();
//                }else{
//                    layer.open({
//                        content: result.msg
//                        ,skin: 'msg'
//                        ,time: 3
//                    });
//                }
            });
        });
        $(document).on('click','#cancel',function (e) {
            e.preventDefault();
            $('.content6').hide();
        });

        $(document).on('click','#pay',function (e) {
            e.preventDefault();

        });
    });
</script>
<script src="__PLUG__/layer/mobile/layer.js"></script>
<script type="text/javascript" src='__JS__/spread.js'></script>
</html>
<!-- 99/盒全国包邮
某国际知名品牌同一加工厂
由台湾东游网络公司监制
 -->